# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Типы данных

### interface ICard - Интерфейс карточки товара  

- `id: string` - идентификатор товара в магазине 
- `description: string` - описание товара 
- `image: string` -  адрес картинки товара
- `title: string` - название товара 
- `category: string` - категория товара 
- `price: number | null` - цена товара 


### interface IForm - Интерфейс форм оформления заказа 

- `payment: string` - способ оплаты  
- `address: string` - адрес доставки
- `email: string` - почта покупателя  
- `phone: string` - телефон покупателя 

### interface IPage - Интерфейс страницы  

- `counter: number` - счетчик товаров в корзине  
- `catalog: HTMLElement[]` - массив карточек товаров
- `locked: boolean` - блокировка скрола

### interface IOrder extends IForm - Интерфейс информация о заказе  

- `total: number` - сумма заказа 
- `items: string[]` - массив идентификаторов купленных товаров


### interface IOrderSuccess - Интерфейс успешной покупки
- `id: string` - айди заказа 
- `total: number` - сумма заказа 


## Базовый код 

### class Api  

Класс содержащий логику отправки запроса. 

 
Конструктор class Api -  передает базовый адрес сервера и опциональный обьтект с запросами 
 
- constructor(baseUrl: string, options: RequestInit = {}) {}
 
Методы class Api 
 
- `get` - получение данных 
- `post` - отправка данных 
- `handleResponse` - обрабатывает ответ с сервера 
 
### class EventEmitter 

Класс EventEmitter представляет собой инструмент для организации обмена данными между компонентами в приложении. Он обеспечивает возможность установки обработчиков событий, вызова событий и их прослушивания.

Конструктор class EventEmitter - включающий события 
 
- constructor() {this._events = new Map<EventName, Set<Subscriber>>();} 
 
Методы class EventEmitter 

- `on`: устанавливает обработчик для события.
- `off`: удаляет обработчик для события.
- `emit`: инициирует событие с переданными данными.
- `onAll`: устанавливает обработчик для всех событий.
- `offAll`: снимает обработчик со всех событий.
- `trigger`: делает коллбек-триггер, генерирующий событие при вызове.

### abstract class Component  

Абстрактный базовый класс необходим для создания и отрисовки пользовательского интерфейся,а также обеспечивающий инструментарий для работы с DOM-элементами в дочерних компонентах. Является родительским для всех классов слоя отображения (View).

Конструктор class Component 
 
- protected constructor(protected readonly container: HTMLElement) {}

Методы class Component 

- `toggleClass` - Переключатель классов
- `setText` - Устанавливает текстовое содержимое для компонента 
- `setDisabled` - Меняет статус блокировки
- `setHidden` - Скрывает компонент 
- `setVisible` - Делает видимим компонент
- `setImage` - Устанавливает изоброжение
- `render` - возвращает корневой DOM-элемент

### abstract class Model 

Базовый класс, предназначенный для создания моделей данных, предназначенных для управления данными приложения. Является родительским для всех классов слоя отображения (Model).

Конструктор class Model - 

- constructor(data: Partial<T>, protected events: IEvents) {}

Методы class Model 

- `emitChanges` - дает всем подписчикам сообщение о изменение модели


##  View - модель отображения

### class Card 
- класс который используется для отрисовки карточек, наследуется от Component 
### class Page 
- класс который добовляет карточки на страницу и подключает слушателя на элемент корзина, наследуется от Component
### class Modal 
- класс который  модальное окно ,наследуется от Component
### class Basket 
- класс который оторбражает корзину и входящие в него товары ,наследуется от Component
### class Form 
- класс который отображает базовую форму, наследуется от Component
### class ContactsForm 
- класс отображает форму ввода контактов для заказа, наследуется от Form
### class DeliveryForm 
- класс который отображает форму ввода и выбора способа доставки при оформление заказа, наследуется от Form
### class success 
- класс который отображает успешный заказ, наследуется от Component
### class APIWebLarek 
- Класс взаимодействия с конкретным API-сервером, наследуется от Api



## Компоненты Presenter 
В этом проекте Presenter не вынесен в отдельный класс, он реализуется в файле index.ts. 
